\chapter{Categories and Functors}
It is well known \source that there is no such thing as a set of all sets. However one might still want to reason about such collections. For this reason we define the notion of a class.

... for our purpose we only care about the fact that a class can contain mathematical objects...

\section{Categories}
The idea of categories is to abstractly define the notion of composition.
For example the composition of maps between sets or the composition of linear maps between vector space \etc\
But it can also describe the composition of objects other than maps.

\begin{definition}{Category}{}
\cite{Roman2017} \source A category $\C$ consits of
\begin{enumerate}
    \item \textbf{Objects}: $\ob(\C)$, which is a class mathematical objects. \Ie\ it need not be a proper set.
    
    \item \textbf{Morphisms}: For every $A, B \in \ob(\C)$ we have a set $\mor(A,B)$. An element $f \in \mor(A,B)$ is called a morphism from $A$ to $B$ and we often write 
    $$
    f: A \to B,
    $$
    even though $f$ is not always a map. Furthermore $\mor(A,B)$ and $\mor(C,D)$ are disjoint unless $A = C$ and $B = D$.
    
    \item \textbf{Composition}: For every $f \in \mor_\C(A,B)$ and $g \in \mor_\C(B,C)$ there exists a $g \circ f \in \mor_\C(A,C)$ called the composition of $g$ after $f$ and the composition needs to be associative: 
    $$
    f \circ (g \circ h) = (f \circ g) \circ h.
    $$

    \item \textbf{Identity}: For each object $A \in \ob(\C)$ there exists a morphism $e_A \in \mor(A,A)$ such that for $f \in \mor(A,B)$ and $g \in \mor(B,A)$ we have
    $$
    f \circ e_A = f \quad \text{and} \quad e_A \circ g = g
    $$
\end{enumerate}
\end{definition}

\begin{notation}{}{}
We will often define the class of objects using the following notation:
\begin{equation*}
    \ob(\C) = \{A: \text{$A$ fullfills some condition}\}
\end{equation*}
where it is understood that this is not a proper set.
\end{notation}

Notice how in the definition of a category we never required any morphisms other than the identity morphism to exist. This means that we could construct a category with arbitrary objects and only the identity morphism for each object. We would also not need to construct that identity in any concrete sense, similar to how a trivial group need only have a single abstract element.
Such a category wouldn't be very interesting to study.

It is however common to have a category where we have no morphisms between certain objects.

\subsection{Examples}

The most familiar way of thinking about a category is to see morphisms as maps and the composition as the composition of maps. There are many example of such categories.

\begin{example}{Category of Sets}{}
Consider the category $\C_\mathrm{set}$ consisting of
\begin{enumerate}
    \item $\ob(\C_\mathrm{set}) := \{X: \text{$X$ is a set}\}$
    \item $\mor_{\C_\mathrm{set}}(X,Y) := \{f: X \to Y: \text{$f$ is a map}\}$
\end{enumerate}
In this case composition is simply the composition of maps and the identity is given by the identity map $\id_A: x \in A \mapsto x \in A$.
\end{example}

Instead of taking arbitrary sets and maps between them we can also study categories where the objects have additional structure and the morphisms preserve that structure.

\begin{example}{Topological Spaces}{}
Similar to the previous category we can define $\C_\mathrm{top}$ with
\begin{enumerate}
    \item $\ob(\C_\mathrm{top}) := \{(X,\tau) : \text{$X$ a set and $\tau$ a topology}\}$
    \item $\mor_{\C_\mathrm{top}}(X,Y) := \{f: X \to Y: \text{$f$ is continuous}\}$
\end{enumerate}
with the usual composition of maps and identity function.\\

The reason this is in fact a category is that the composition of continuous maps is still continuous.
\end{example}

\begin{example}{Vector Spaces}{}
Let $\mathbb{K}$ be a field. Another structure that one might want to study is that of $\C_{\mathrm{vec}, \mathbb{K}}$ where
\begin{enumerate}
    \item $\ob(\C_{\mathrm{vec}, \mathbb{K}}) := \{V : \text{$V$ is a vector space over $\mathbb{K}$}\}$
    \item $\mor_{\C_{\mathrm{vec}, \mathbb{K}}}(V,W) := \{f: V \to W : \text{$f$ is a $\mathbb{K}$-linear map}\}$
\end{enumerate}
then this is a again a category for same reasons as in the previous example.
\end{example}

In all previous examples morphisms where maps, however this is not necessary. In case morphisms are not maps it is not be as clear what the composition $\circ$ should be.

\begin{example}{Category of Ordering}{}
Consider the category $\C_{\mathrm{ord}(\R)}$ with
\begin{enumerate}
    \item $\ob(\C_{\mathrm{ord}(\R)}) := \R$
    \item $\mor_{\C_{\mathrm{ord}(\R)}}(a,b) := \begin{cases}
        \{(a,b)\} & \text{if $a \ge b$} \\
        \hfil \emptyset & \text{else}
    \end{cases}$
\end{enumerate}
and the composition $(a,b) \circ (b,c) = (a,c)$ if $a \ge b \ge c$ and identity $(a,a)$.

Notice how this category encodes the full information of the total ordering $\ge$ on $\R$. Particularly the composition $\circ$ encodes transitivity and the identity encodes reflexivity.
\end{example}

\begin{example}{Group as a Category}{group-category}
Let $G$ be a group then we can define a corresponding category $\mathcal{G}$ where
\begin{enumerate}
    \item $\ob(\mathcal{G}) := \{\epsilon\}$ is a single element
    \item $\mor_{\mathcal{G}}(\epsilon,\epsilon) := G$
\end{enumerate}
and the composition is given by $g \circ h = gh$ and identity by $e \in G$.
\end{example}

\section{Functors}
Categories are used to study morphisms between objects. Similarly we can now also study morphisms or \emph{functors} between categories.


\begin{definition}{Functor}{}
We differentiate between \emph{covariant} and \emph{contravariant} \emph{functors}. 
We make sure to consider the corresponding parts of the definition denoted by the bullet points $\bullet$.\\

Let $\A, \B$ be two categories. A \emph{functor} which we denote by $\Ff: \A \to \B$ is the following collection of maps, all denoted with the same symbol:
\begin{enumerate}
    \item A map between the objects of the two categories:
    $$
    \Ff: \ob(\A) \to \ob(\B)
    $$
    \item For all $X,Y \in \ob(\A)$ we have a map between morphisms: 
    \begin{itemize}
        \item \emph{In the case of a covariant functor} $$\Ff: \mor_\A(X,Y) \to \mor_\B(\Ff(X), \Ff(Y))$$
        \item \emph{In the case of a contravariant functor} $$\Ff: \mor_\A(X,Y) \to \mor_\B(\Ff(Y), \Ff(X))$$
    \end{itemize}
\end{enumerate}
A functor must also satisfy
\begin{equation}
\label{eq:functor_functoriality_identity}
\Ff(e_X) = e_{\Ff(X)},
\end{equation}
where $e_X$ denotes the identity morphism. And for every $f \in \mor_\A(X,Y)$ and $g \in \mor_\A(Y,Z)$
\begin{itemize}
    \item \emph{In the case of a covariant functor}
    \begin{equation}
    \label{eq:functor_functoriality_covar}
    \Ff(g \circ f) = \Ff(g) \circ \Ff(f)
    \end{equation}
    
    \item \emph{In the case of a contravariant functor}
    \begin{equation}
    \label{eq:functor_functoriality_contravar}
    \Ff(g \circ f) = \Ff(f) \circ \Ff(g)
    \end{equation}
\end{itemize}
A covariant functor is sometimes also simply called a functor.
\end{definition}

\begin{myremark}{Functoriality}{}
The additional requirements \ref{eq:functor_functoriality_identity} and \ref{eq:functor_functoriality_covar} respectively \ref{eq:functor_functoriality_contravar} are sometimes referred to as \emph{functoriality} also outside of category theory.

We can represent these properties in terms of commutative diagrams

\todo

Particularly we ask for every $X,Y \in \ob(\A)$ and every $\phi \in \mor_\A(X,Y)$ that the diagram commutes.

\begin{equation*}
\begin{tikzcd}
X \rar["\phi"] \dar[maps to, "\Ff"] & Y \dar[maps to, "\Ff"] \\
\Ff(X) \rar["\Ff(\phi)"]              & \Ff(Y)   
\end{tikzcd}       
\end{equation*}

\end{myremark}
Similar to functions we can also compose functors. We will use this to construct particular functors later on.
\begin{defprop}{Composition of Functors}{composition_of_functors}
Let $\A, \B, \C$ be three categories and
$$
\Ff: \A \to \B, \quad \mathfrak{G}: \B \to \C
$$
two co- or contra- variant functors. Then $\mathfrak{G}$ and $\Ff$ can be composed in the obvious sense denoted by
$$\mathfrak{G} \Ff: \A \to \C$$
which is still a functor. Particularly $\mathfrak{G} \Ff$ is covariant if and only if both $\mathfrak{G}$ and $\Ff$ have the same type. Moreover the composition of functors is associative.
\end{defprop}
The proof is left as an exercise to the reader.
\todo[should i prove this?]

\subsection{Examples of Functors}

\begin{example}{Group Homomorphism as a Functor}{}
Let $G_1, G_2$ be groups, $\phi: G_1 \to G_2$ be a group homomorphism and $\mathcal{G}_1,\mathcal{G}_2$ the corresponding categories \ref{exa:group-category}. The goal is to construct a corresponding functor 
$$
\Hf_\phi: \mathcal{G}_1 \to \mathcal{G}_1
$$
Since both $\mathcal{G}_1$ and $\mathcal{G}_2$ contain a single object $\epsilon$ it is clear that $\Hf_\phi(\epsilon) = \epsilon$. We still need to define the $\Hf$ on the morphisms, for which we simply set
$$
\Hf_\phi(g) = \phi(g) \in \mor_{\mathcal{G}_2}(\epsilon, \epsilon) = G_2
$$
for every $g \in \mor_{\mathcal{G}_1}(\epsilon, \epsilon) = G_1$. \\

It remains to check that this is indeed a functor
\begin{equation*}
\begin{split}
\Hf_\phi(g \circ h) &= \phi(g \circ h) = \phi(g)\phi(h) \\
&= \phi(g) \circ \phi(h) = \Hf_\phi(g) \circ \Hf_\phi(h)
\end{split}
\end{equation*}
and since group homomorphisms map the neutral element to the neutral element he get
\begin{equation*}
\Hf_\phi(e_{G_1}) = \phi(e_{G_1}) = e_{G_2}.
\end{equation*}
\end{example}

\begin{example}{The Adjoint Covariant Functor}{}
Consider the category $\C_{\mathrm{vec}, \mathbb{K}}$. Then we can define the functor
$$
^* : \C_{\mathrm{vec}, \mathbb{K}} \to \C_{\mathrm{vec}, \mathbb{K}}
$$
which maps a vector space $V$ to its (algebraic) dual $V^*$ and maps a linear map $f: V \to W$ to its adjoint map $f^*: W^* \to V^*$. It is an exercise of linear algebra to verify that this is indeed a contravariant functor.
\end{example}

\begin{example}{Fundamental Group Functor}{}
\cite{Hatcher2001}
\todo
\end{example}

\begin{example}{Homology Functor}{}
\cite{Hatcher2001}
\todo
\end{example}


One of the simplest functors is the one that \emph{forgets} the structure of a category.

\subsection{Frogetful Functor}

\begin{definition}{Forgetful Functor}{}
Let $\C$ be a category whose objects are sets (potentially with some additional structure) and whose morphisms are certain maps between these sets. Then we can define the \emph{forgetful functor}
$$
\alpha_\C: \C \to \C_\mathrm{set}
$$
where $\alpha_\C$ maps objects to their underlying set. And morphisms get mapped to their underlying functions. If a category has the above requirements we may also say that it \emph{permits the forgetful functor}.
\end{definition}
The following remark illustrates the utility of the forgetful functor that we will use later on.
\begin{myremark}{Factorizing the Forgetful Functor}{}
Let $\Ff: \A \to \B$ be a functor between categories that permit the forgetful functor. If $\Ff$ factorizes the forgetful functor $\alpha_\A$ \ie
\begin{equation*}
    \Ff \circ \alpha_\B = \alpha_\A,
\end{equation*}
then $\Ff$ maps objects in $\A$ to objects in $\B$ that share the same underlying set. And it maps morphisms to morphisms with the same underlying function.
\end{myremark}
